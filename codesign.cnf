# Configuration for issuing code signing certificates

openssl_conf		= openssl_conf

[ openssl_conf ]
providers		= providers

[ providers ]
pkcs11			= pkcs11

[ pkcs11 ]
activate		= 1

[ ca ]
default_ca		= ca_codesign

[ ca_codesign ]
certificate		= ipxe-sb-ca.crt
database		= ipxe-sb-ca.db
default_days		= 365
default_md		= sha256
new_certs_dir		= signed
policy			= ca_policy
private_key		= pkcs11:id=%02   # 02 translates to Yubikey slot 9c
rand_serial		= yes
unique_subject		= yes
x509_extensions		= ca_exts

[ ca_policy ]
commonName		= supplied

[ ca_exts ]
authorityInfoAccess	= caIssuers;URI:https://ipxe.org/secure-boot-ca
authorityKeyIdentifier	= keyid:always
extendedKeyUsage	= codeSigning
keyUsage		= critical,digitalSignature
